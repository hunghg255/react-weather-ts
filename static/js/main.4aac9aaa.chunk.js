(this["webpackJsonpreact-weather-ts"]=this["webpackJsonpreact-weather-ts"]||[]).push([[0],Array(32).concat([function(e,t,a){},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/clear.2189e828.gif"},,function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/d_bg4.56768e5d.jpg"},,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/thunderstorm.985ff4e6.gif"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/drizzle.1f3f5b05.gif"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/rain.887dca72.gif"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/snow.544a7c95.gif"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/fog.cd59bb37.gif"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/clouds.196ae4cb.gif"},,,,,,function(e,t,a){var c={"./d_bacgiang1.jpeg":59,"./d_bacgiang2.jpeg":60,"./d_hanoi1.jpeg":61,"./d_hanoi2.jpeg":62,"./d_hochiminh1.jpeg":63,"./d_hochiminh2.jpeg":64,"./p_bacgiang1.jpeg":65,"./p_bacgiang2.jpeg":66,"./p_hanoi1.jpeg":67,"./p_hanoi2.jpeg":68,"./p_hochiminh1.jpeg":69,"./p_hochiminh2.jpeg":70};function s(e){var t=i(e);return a(t)}function i(e){if(!a.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}s.keys=function(){return Object.keys(c)},s.resolve=i,e.exports=s,s.id=58},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/d_bacgiang1.2336349c.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/d_bacgiang2.01bb2717.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/d_hanoi1.a6972e56.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/d_hanoi2.35d74787.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/d_hochiminh1.d9afd5ad.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/d_hochiminh2.64003c94.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/p_bacgiang1.92e73f77.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/p_bacgiang2.ccb681ff.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/p_hanoi1.0dbd6526.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/p_hanoi2.b25bf4c3.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/p_hochiminh1.8530e6f4.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/p_hochiminh2.842ebf94.jpeg"},,function(e,t,a){var c={"./d_bg1.jpg":73,"./d_bg2.jpg":74,"./d_bg3.jpg":75,"./d_bg4.jpg":35,"./p_bg1.jpg":76,"./p_bg2.jpg":77,"./p_bg3.jpg":78,"./p_bg4.jpg":79};function s(e){var t=i(e);return a(t)}function i(e){if(!a.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}s.keys=function(){return Object.keys(c)},s.resolve=i,e.exports=s,s.id=72},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/d_bg1.b98e94c8.jpg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/d_bg2.3ee69488.jpg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/d_bg3.c44d9715.jpg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/p_bg1.45dff283.jpg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/p_bg2.5fa93c7e.jpg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/p_bg3.4bb3f427.jpg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/p_bg4.423498b7.jpg"},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(2),i=a.n(s),n=a(21),r=a.n(n),d=(a(32),a(12)),l=a(13),o=a(18),u=a(17),j=a(15),h=a(4),m=a(23),f=a(36),x=a(19),p=a(5),b=a(37),g=a(38),O=a(14),v=function(e,t,a){var s=(e+"")[0];if(800===e)return t?Object(c.jsx)(p.e,{className:a}):Object(c.jsx)(p.h,{className:a});switch(s){case"2":return t?Object(c.jsx)(p.f,{className:a}):Object(c.jsx)(p.m,{className:a});case"3":return Object(c.jsx)(O.b,{className:a});case"5":return t?Object(c.jsx)(p.c,{className:a}):Object(c.jsx)(p.k,{className:a});case"6":return t?Object(c.jsx)(p.d,{className:a}):Object(c.jsx)(p.l,{className:a});case"7":return t?Object(c.jsx)(p.b,{className:a}):Object(c.jsx)(p.j,{className:a});case"8":return t?Object(c.jsx)(p.a,{className:a}):Object(c.jsx)(p.i,{className:a})}};var w=function(e){var t,a,i,n=Object(s.useState)(0),r=Object(x.a)(n,2),d=r[0],l=r[1],o=Object(s.useState)(0),u=Object(x.a)(o,2),j=u[0],h=u[1],m={boxShadow:"0 3px 5px rgba(0, 0, 0, 0.3)",backdropFilter:"blur(2px)"},O=function(e,t){var a=[],c=t.length-e;if(c<0)return t;for(var s=c;s<t.length;s++)a.push(t[s]);return a},w=(null===(t=e.info)||void 0===t?void 0:t.list)?(i=function(e,t){var a=new Date;a.setDate(a.getDate()+e);var c,s=[],i=Object(f.a)(t);try{for(i.s();!(c=i.n()).done;){var n=c.value;parseInt("".concat(n.dt_txt[8]).concat(n.dt_txt[9]))===a.getDate()&&s.push({time:n.dt_txt.slice(11,16),temp:Math.round(n.main.temp-273.15),feelsLike:Math.round(n.main.feels_like-273.15),weatherID:n.weather[0].id,weatherState:n.weather[0].main,day:"d"===n.sys.pod,humidity:n.main.humidity,pressure:n.main.pressure,windSpeed:Math.round(3.6*n.wind.speed),visibility:Math.round(n.visibility/100)})}}catch(r){i.e(r)}finally{i.f()}return s}(d,null===(a=e.info)||void 0===a?void 0:a.list)).length<5?i:window.innerWidth<950?O(4,i):window.innerWidth<1150?O(5,i):window.innerWidth<1250?O(6,i):window.innerWidth<1350?O(7,i):O(8,i):[];return w.length?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"w-screen flex justify-between",style:{height:"65%"},children:[Object(c.jsxs)("div",{className:"text-white pt-8 pl-8",children:[Object(c.jsx)("div",{className:"text-6xl",children:v(w[j].weatherID,w[j].day)}),Object(c.jsx)("div",{className:"text-4xl my-1 sm:my-0",children:w[j].weatherState}),Object(c.jsx)("div",{className:"text-xl my-1 sm:my-0",children:e.city}),Object(c.jsxs)("div",{className:"text-5xl font-bold",children:[w[j].temp,"\xb0C"]})]}),Object(c.jsxs)("div",{className:"mt-20 mr-4 md:mr-20",children:[Object(c.jsxs)("div",{className:"flex",children:[Object(c.jsx)("div",{className:"text-gray-200 pr-1",children:Object(c.jsx)(p.g,{className:"text-3xl"})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"text-gray-200 text-sm sm:base",children:"Humidity"}),Object(c.jsxs)("div",{className:"text-white text-2xl sm:text-3xl font-bold",children:[w[j].humidity,"%"]})]})]}),Object(c.jsxs)("div",{className:"flex my-4",children:[Object(c.jsx)("div",{className:"text-gray-200 pr-1",children:Object(c.jsx)(b.a,{className:"text-2xl"})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"text-gray-200 text-sm sm:base",children:"Air Pressure"}),Object(c.jsxs)("div",{className:"text-white text-2xl sm:text-3xl font-bold",children:[w[j].pressure," hPa"]})]})]}),Object(c.jsxs)("div",{className:"flex my-4",children:[Object(c.jsx)("div",{className:"text-gray-200 pr-1",children:Object(c.jsx)(p.n,{className:"text-2xl"})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"text-gray-200 text-sm sm:base",children:"Wind speed"}),Object(c.jsxs)("div",{className:"text-white text-2xl sm:text-3xl font-bold",children:[w[j].windSpeed," km/h"]})]})]}),Object(c.jsxs)("div",{className:"flex my-4",children:[Object(c.jsx)("div",{className:"text-gray-200 pr-1",children:Object(c.jsx)(g.a,{className:"text-2xl"})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"text-gray-200 text-sm sm:base",children:"Visibility"}),Object(c.jsxs)("div",{className:"text-white text-2xl sm:text-3xl font-bold",children:[w[j].visibility,"%"]})]})]})]})]}),Object(c.jsxs)("div",{className:"w-screen text-white",style:{height:"35%"},children:[Object(c.jsx)("div",{className:"flex items-center pl-2 sm:pl-8",children:function(){for(var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=[],a=0;a<4;a++){var c=new Date;c.setDate(c.getDate()+a),t.push(e[c.getDay()])}return t}().map((function(e,t){return Object(c.jsx)("div",{className:"px-2 py-1 mx-2 lg:mb-2 rounded-lg cursor-pointer",style:d===t?m:{},onClick:function(){h(0),l(t)},children:e},t)}))}),Object(c.jsx)("div",{className:"flex justify-around px-8 pt-6 sm:pt-5",children:w.map((function(e,t){return Object(c.jsxs)("div",{className:"h-40 w-40 flex flex-col cursor-pointer",style:{boxShadow:"0 0 15px 1px rgba(0, 0, 0, 0.75)",backdropFilter:"blur(2px)",transform:j===t?"scale(1.1)":"",zIndex:j===t?2:1},onClick:function(){return h(t)},children:[Object(c.jsx)("div",{className:"pt-2 pl-2",children:e.time}),Object(c.jsx)("div",{className:"flex-grow"}),Object(c.jsxs)("div",{className:"pl-1 sm:pl-2 pb-1 sm:pb-2",children:[Object(c.jsxs)("div",{className:"text-2xl font-bold",children:[e.temp,"\xb0C"]}),j===t?Object(c.jsxs)("div",{className:"text-xs sm:text-base",children:["Feels like ",e.feelsLike,"\xb0"]}):null]})]},t)}))})]})]}):Object(c.jsx)(c.Fragment,{})},y=a(16),N=a(28),_=a.n(N),k=a(40),M="FETCH_WEATHER",D=function(){return function(){var e=Object(k.a)(_.a.mark((function e(t){var a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={HaNoi:1581130,HoChiMinh:1566083,BacGiang:1591527},e.next=3,Promise.all(Object.values(a).map((function(e){return fetch("https://api.openweathermap.org/data/2.5/forecast?id=".concat(e,"&appid=0c7a18a8180f633ee8c938d39a3b3df7")).then((function(e){return e.json()}))})));case 3:c=e.sent,t({type:M,payload:{HaNoi:c[0],HoChiMinh:c[1],BacGiang:c[2]}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){Object(o.a)(s,e);var t=Object(u.a)(s);function s(e){var c;if(Object(d.a)(this,s),(c=t.call(this,e)).updateDimensions=function(){c.setState({imageSrc:a(58)("./".concat(window.innerWidth<768?"p":"d","_").concat(c.props.match.params.city.toLowerCase()).concat(c.state.random,".jpeg")).default})},"HaNoi"!==c.props.match.params.city&&"HoChiMinh"!==c.props.match.params.city&&"BacGiang"!==c.props.match.params.city)return window.location.replace("/404"),Object(m.a)(c);Object.keys(c.props.weather).length||c.props.fetchWeather();var i,n;return c.state={imageSrc:"",random:(i=1,n=3,Math.floor(Math.random()*(n-i))+i)},c}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){return Object(c.jsx)("div",{className:"h-screen w-screen bg-cover bg-center",style:{backgroundImage:"url(".concat(this.state.imageSrc,")")},children:Object(c.jsx)(w,{city:this.props.match.params.city,info:this.props.weather[this.props.match.params.city]})})}}]),s}(s.Component),W=Object(y.b)((function(e){return{weather:e.weatherReducer.weather}}),{fetchWeather:D})(S);var C=function(e){return Object(c.jsxs)("div",{className:"flex flex-col text-center",children:[v(e.idOfWeather,e.day,"h-16 w-16"),Object(c.jsx)("div",{children:e.stateOfWeather})]})};var E=function(e){var t,a,s=(t=e.feelsLike)<10||t>29?["Bad","bg-red-600"]:t>9&&t<18||t>22&&t<30?["ok","bg-yellow-600"]:t>17&&t<23?["Good","bg-green-600"]:[];return Object(c.jsxs)("div",{className:"self-end text-center",children:[Object(c.jsxs)("div",{className:"".concat(s[1]," rounded-lg text-xs sm:text-sm p-1"),children:[e.feelsLike," ",s[0]]}),Object(c.jsxs)("div",{className:"mt-1 text-xs md:text-sm",children:[(a=e.deg,a<30?"N":a<60?"NE":a<120?"E":a<150?"ES":a<210?"S":a<240?"SW":a<300?"W":a<330?"NW":a<360?"N":void 0)," ",Math.round(3.6*e.speed)," km/h"]})]})};var F=function(e){var t=function(e){var t=new Date;t.setDate(t.getDate()+1);var a=t.getDate()<10?"0".concat(t.getDate()):t.getDate(),c=[],s=[];return e.forEach((function(e){"".concat(e.dt_txt[8]).concat(e.dt_txt[9])===a.toString()&&(c.push(e.main.temp_min),s.push(e.main.temp_max))})),[Math.round(Math.min.apply(Math,c)-273.15),Math.round(Math.max.apply(Math,s)-273.15)]}(e.list);return Object(c.jsxs)("div",{className:"w-3/12",children:[Object(c.jsxs)("div",{className:"flex justify-between p-2",children:[Object(c.jsx)("div",{className:"text-xs",children:function(){var e=new Date;return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][6===e.getDay()?0:e.getDay()+1]}()}),Object(c.jsxs)("div",{className:"text-xs flex items-center",children:[Object(c.jsx)("div",{children:"More"}),Object(c.jsx)(O.a,{})]})]}),Object(c.jsxs)("div",{className:"flex flex-col text-center",children:[Object(c.jsx)("div",{className:"w-full",children:v(e.idOfWeather,e.day,"h-16 w-16 mx-auto")}),Object(c.jsxs)("div",{className:"text-lg",children:[Array.isArray(t)?t[0]:"?","/",Array.isArray(t)?t[1]:"?","\xb0"]})]})]})};var B=function(e){var t,s=0,i=0,n=0,r="",d=0,l=0,o=0,u=0,h=!0,m=[];if(null===(t=e.weather)||void 0===t?void 0:t.list){s=Math.round(e.weather.list[0].main.temp-273.15);var f=function(e){var t=new Date,a=t.getDate()<10?"0".concat(t.getDate()):t.getDate(),c=[],s=[];return e.forEach((function(e){"".concat(e.dt_txt[8]).concat(e.dt_txt[9])===a.toString()&&(c.push(e.main.temp_min),s.push(e.main.temp_max))})),[Math.round(Math.min.apply(Math,c)-273.15),Math.round(Math.max.apply(Math,s)-273.15)]}(e.weather.list),p=Object(x.a)(f,2);i=p[0],n=p[1],r=e.weather.list[0].weather[0].main,d=Math.round(e.weather.list[0].main.temp-273.15),l=e.weather.list[0].wind.speed,o=e.weather.list[0].wind.deg,u=e.weather.list[0].weather[0].id,h="d"===e.weather.list[0].sys.pod,m=e.weather.list}var b=function(e){var t=(e+"")[0];if(800===e)return["",a(33).default];switch(t){case"2":return["",a(47).default];case"3":return["",a(48).default];case"5":return["bg-left-bottom",a(49).default];case"6":return["",a(50).default];case"7":return["",a(51).default];case"8":return["",a(52).default];default:return["",a(33).default]}}(u),g=Object(x.a)(b,2),v=g[0],w=g[1];return Object(c.jsx)(j.b,{to:"/".concat(e.city),className:"h-40 w-full sm:w-410px",children:Object(c.jsx)("div",{className:"flex h-40 w-full sm:w-410px",children:Object(c.jsx)("div",{className:"text-white m-2 rounded-lg flex-grow bg-left-bottom ".concat(v),style:{backgroundImage:"url(".concat(w,")")},children:Object(c.jsxs)("div",{className:"flex w-full h-full divide-x divide-gray-400 ",children:[Object(c.jsxs)("div",{className:"w-9/12",children:[Object(c.jsx)("div",{className:"mt-2 ml-2 p-2 rounded-lg inline-block text-xs",style:{boxShadow:"0 0 15px 1px rgba(0, 0, 0, 0.75)",backdropFilter:"blur(2px)"},children:Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)(O.c,{}),Object(c.jsx)("div",{className:"ml-2",children:e.city})]})}),Object(c.jsxs)("div",{className:"w-full flex justify-around items-center",children:[Object(c.jsx)(C,{stateOfWeather:r,idOfWeather:u,day:h}),Object(c.jsxs)("div",{className:"flex flex-col text-center",children:[Object(c.jsxs)("div",{className:"text-5xl",children:[s,"\xb0"]}),Object(c.jsxs)("div",{className:"text-lg",children:[i,"/",n,"\xb0"]})]}),Object(c.jsx)(E,{speed:l,deg:o,feelsLike:d})]})]}),Object(c.jsx)(F,{idOfWeather:u,day:h,list:m})]})})})})},L=function(e){Object(o.a)(s,e);var t=Object(u.a)(s);function s(e){var c;Object(d.a)(this,s),(c=t.call(this,e)).setBg=function(e){if("default"===e)c.setState({imageSource:a(72)("./".concat(window.innerWidth<768?"p":"d","_bg").concat(c.state.random,".jpg")).default});else if("click"===e)return 4===c.state.random?c.setState({random:1},(function(){return c.setBg("default")})):c.setState({random:c.state.random+1},(function(){return c.setBg("default")}))};var i,n;return c.state={random:(i=1,n=5,Math.floor(Math.random()*(n-i))+i),imageSource:""},c}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchWeather(),this.setBg("default"),window.addEventListener("resize",(function(){return e.setBg("default")}))}},{key:"render",value:function(){var e=this;return Object(c.jsx)("div",{className:"h-screen w-screen bg-cover bg-center",style:{backgroundImage:"url(".concat(this.state.imageSource,")")},onClick:function(){return e.setBg("click")},children:Object(c.jsx)("div",{className:"flex flex-col justify-center items-center w-screen",style:{height:"95%"},children:Object.keys(this.props.weather).map((function(t,a){return Object(c.jsx)(B,{city:t,weather:e.props.weather[t]},a)}))})})}}]),s}(s.Component),T=Object(y.b)((function(e){return{weather:e.weatherReducer.weather}}),{fetchWeather:D})(L);var I=function(){return Object(c.jsx)("div",{className:"h-screen w-screen bg-cover bg-center",style:{backgroundImage:"url(".concat(a(35).default,")")},children:Object(c.jsxs)("div",{className:"h-screen w-screen flex flex-col justify-center items-center text-white",children:[Object(c.jsx)("div",{style:{fontSize:"150px"},children:"404"}),Object(c.jsx)("div",{className:"text-3xl",children:Object(c.jsx)(j.b,{to:"/",replace:!0,children:"Take me back"})})]})})},H=a(10),A=a(41),z=a(31),P={weather:{}},G=Object(H.c)({weatherReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(z.a)(Object(z.a)({},e),{},{weather:t.payload});default:return e}}}),R=[A.a],U=Object(H.d)(G,{},H.a.apply(void 0,R)),J=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(c.jsx)(y.a,{store:U,children:Object(c.jsx)(j.a,{children:Object(c.jsxs)(h.c,{children:[Object(c.jsx)(h.a,{path:"/404",component:I}),Object(c.jsx)(h.a,{path:"/:city",component:W}),Object(c.jsx)(h.a,{path:"/",component:T})]})})})}}]),a}(s.Component),V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,82)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,n=t.getTTFB;a(e),c(e),s(e),i(e),n(e)}))};a(80);r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(J,{})}),document.getElementById("root")),V()}]),[[81,1,2]]]);
//# sourceMappingURL=main.4aac9aaa.chunk.js.map